2025-05-06 22:55:58,119 - INFO - Loaded price data with shape (73007, 11)
2025-05-06 22:55:58,209 - INFO - Loaded grid data with shape (73147, 19)
2025-05-06 22:55:58,484 - INFO - Loaded time features with shape (289296, 10)
2025-05-06 22:55:58,949 - INFO - Loaded holidays data with shape (710017, 4)
2025-05-06 22:55:59,061 - INFO - Loaded weather data with shape (73080, 6)
2025-05-06 22:56:02,104 - INFO - Robust valley detection found 14059 valleys (19.3% of data)
2025-05-06 22:56:02,107 - INFO - Identified 14059 valleys (19.3% of data) using robust valley detection
2025-05-06 22:56:02,108 - INFO - Final merged data shape: (73007, 65)
2025-05-06 22:56:02,112 - INFO - Loaded data with 73007 samples
2025-05-06 22:56:02,112 - INFO - Searching for trend models...
2025-05-06 22:56:02,113 - INFO - Using best trend model: C:\_Projects\home-energy-ai\src\predictions\prices\models\trend_model\best_trend_model.pkl
2025-05-06 22:56:02,113 - INFO - Loaded parameters for XGBoost model
2025-05-06 22:56:02,711 - INFO - Successfully loaded model from C:\_Projects\home-energy-ai\src\predictions\prices\models\trend_model\best_trend_model.pkl
2025-05-06 22:56:02,712 - INFO - Loaded feature order list with 22 features
2025-05-06 22:56:02,712 - INFO - Model uses 22 features
2025-05-06 22:56:02,712 - INFO - Top features: ['price_24h_avg', 'price_168h_avg', 'is_business_hour', 'hour_avg_price', 'is_morning_peak']
2025-05-06 22:56:02,713 - INFO - Evaluating XGBoost trend model
2025-05-06 22:56:02,713 - INFO - Using 22 features with top important: ['price_24h_avg', 'price_168h_avg', 'is_business_hour']
2025-05-06 22:56:02,716 - INFO - Test data shape: (10952, 65), starting from 2024-01-30 15:00:00+00:00
2025-05-06 22:56:02,716 - INFO - Forecasting test period (10952 steps)...
2025-05-06 22:56:02,731 - INFO - Using saved feature order with 22 features
2025-05-06 22:56:02,731 - INFO - Final test feature matrix: (10952, 22)
2025-05-06 22:56:02,731 - INFO - Creating DMatrix with only feature values (no column names)
2025-05-06 22:56:02,734 - INFO - Clearing existing feature names in model: ['price_24h_avg', 'dayofweek_cos', 'powerExportTotal', 'day_cos', 'hour_avg_price', 'month_cos', 'hour_cos', 'is_evening_peak', 'powerConsumptionTotal', 'wind', 'powerImportTotal', 'powerProductionTotal', 'day_sin', 'is_weekend', 'is_business_hour', 'hour_sin', 'dayofweek_sin', 'nuclear', 'month_sin', 'is_morning_peak', 'hydro', 'price_168h_avg']
2025-05-06 22:56:02,734 - INFO - Creating DMatrix with matching feature order
2025-05-06 22:56:02,876 - INFO - Successfully made predictions
2025-05-06 22:56:02,876 - INFO - Applying heavy smoothing level from trained model
2025-05-06 22:56:03,019 - INFO - Saved forecast results to C:\_Projects\home-energy-ai\src\predictions\prices\plots\evaluation\trend\trend_forecast_results.csv
2025-05-06 22:56:03,020 - INFO - Test MAE: 12.05, RMSE: 21.85, MAPE: 78.00%
2025-05-06 22:56:03,021 - INFO - Direction Accuracy: 0.67, SMAPE: 43.60%
2025-05-06 22:56:03,021 - INFO - Saved evaluation metrics to C:\_Projects\home-energy-ai\src\predictions\prices\plots\evaluation\trend\trend_model_evaluation_metrics.json
2025-05-06 22:56:03,021 - INFO - Generating visualizations...
2025-05-06 22:56:03,458 - INFO - Generating weekly visualizations for 4 weeks...
2025-05-06 22:56:03,711 - INFO - Generated visualization for week 2024-01-30
2025-05-06 22:56:03,975 - INFO - Generated visualization for week 2024-05-21
2025-05-06 22:56:04,214 - INFO - Generated visualization for week 2024-09-10
2025-05-06 22:56:04,455 - INFO - Generated visualization for week 2024-12-31
2025-05-06 22:56:04,455 - INFO - Generating monthly visualizations...
2025-05-06 22:56:05,163 - INFO - Generated visualization for month February 2024
2025-05-06 22:56:05,733 - INFO - Generated visualization for month March 2024
2025-05-06 22:56:06,298 - INFO - Generated visualization for month April 2024
2025-05-06 22:56:06,861 - INFO - Generated visualization for month May 2024
2025-05-06 22:56:07,408 - INFO - Generated visualization for month June 2024
2025-05-06 22:56:08,147 - INFO - Generated visualization for month July 2024
2025-05-06 22:56:08,701 - INFO - Generated visualization for month August 2024
2025-05-06 22:56:09,248 - INFO - Generated visualization for month September 2024
2025-05-06 22:56:09,790 - INFO - Generated visualization for month October 2024
2025-05-06 22:56:10,346 - INFO - Generated visualization for month November 2024
2025-05-06 22:56:11,092 - INFO - Generated visualization for month December 2024
2025-05-06 22:56:11,645 - INFO - Generated visualization for month January 2025
2025-05-06 22:56:12,166 - INFO - Generated visualization for month February 2025
2025-05-06 22:56:12,708 - INFO - Generated visualization for month March 2025
2025-05-06 22:56:13,236 - INFO - Generated visualization for month April 2025
2025-05-06 22:56:13,678 - INFO - Trend model evaluation complete
